функция сортировка_пузырьком(сп: список) {
    для (i = 1; i < длина(сп); i += 1) {
        для (j = 1; j < длина(сп); j += 1) {
            если (получить(сп, j - 1) > получить(сп, j)) {
                врем = получить(сп, j - 1);
                изменить(сп, j - 1, получить(сп, j));
                изменить(сп, j, врем);
            }
        }
    }

    вернуть сп;
}


функция быстрая_сортировка(сп: список) {
    если (длина(сп) <= 1) {
        вернуть сп;
    }
    опорный = получить(сп, 0);
    левый = список();
    правый = список();

    для (i = 1; i < длина(сп); i += 1) {
        текущее = получить(сп, i);
        если (текущее < опорный) {
            добавить(левый, текущее);
        } иначе {
            добавить(правый, текущее);
        }
    }
    левый_сортированный = быстрая_сортировка(левый);
    правый_сортированный = быстрая_сортировка(правый);

    результат = список();

    для (j = 0; j < длина(левый_сортированный); j += 1) {
        добавить(результат, получить(левый_сортированный, j));
    }
    добавить(результат, опорный);
    для (k = 0; k < длина(правый_сортированный); k += 1) {
        добавить(результат, получить(правый_сортированный, k));
    }
    вернуть результат;
}


функция бинарный_поиск(сп: список, значение: число) {
    мин = 0;
    макс = длина(сп) - 1;
    пока(мин <= макс) {
        середина = мин + (макс - мин) / 2;
        если(получить(сп, середина) == значение) {
            вернуть середина;
        }
        иначе если(получить(сп, середина) < значение) {
            мин = середина + 1;
        }
        иначе {
            макс = середина - 1;
        }
    }
    вернуть -1;
}


функция применить_ко_всем(сп: список, ф: функция) {
    результат = список();
    для (k = 0; k < длина(сп); k += 1) {
        добавить(результат, ф(получить(сп, k)));
    }
    вернуть результат;
}


функция фильтр(сп: список, ф: функция) {
    результат = список();
    для (k = 0; k < длина(сп); k += 1) {
        если(ф(получить(сп, k))) {
            добавить(результат, получить(сп, k));
        }
    }
    вернуть результат;
}


//сп1 = список(1, 6, 3, 7, 5);
//печать(сп1);
//печать(сортировка_пузырьком(сп1));

сп2 = список(1, 6, 3, 7, 5);
печать(сп2);
сортированный_сп = быстрая_сортировка(сп2);
печать(сортированный_сп);
печать(бинарный_поиск(сортированный_сп, 3));

функция умн_2(ч) {
    вернуть ч * 2;
}

функция больше_4(ч) {
    вернуть ч > 4;
}


сп3 = список(1, 2, 3, 4, 5);
печать(сп3);
печать(применить_ко_всем(сп3, умн_2));
печать(фильтр(сп3, больше_4));

сп_сп = список(список(1,2,3), список(4,5,6), список(7,8,9));
печать(сп_сп);